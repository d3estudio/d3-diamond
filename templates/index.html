<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="apple-touch-icon" sizes="180x180" href="/static/assets/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/assets/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/assets/favicons/favicon-16x16.png">
    <title>D3 Diamond</title>
    <link rel="stylesheet" media="all" href="/static/assets/main.css" />
    <link rel="stylesheet" media="all" href="/static/assets/radar-chart.css" />
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js" charset="utf-8"></script>

    <script type="text/javascript" src="//d3js.org/d3.v3.js"></script>
    <script type="text/javascript" src="/static/assets/radar-chart.js"></script>
</head>

<body>
    <div id="wrapper">
            <div id="logo">
                <a href="/">
                    <img id="logoD3" src="/static/assets/logo-d3.svg" alt="Logo d3">
                    <ul>
                </a>
                <ul>
                    <li class="profile-grade">
                        <a href="/logout">
                            <p class="competence-description">Logout</p>
                        </a>
                    </li>
                    <li class="profile-grade">
                        <a href="/dates">
                            <p class="competence-description">Ver resultados antigos</p>
                        </a>
                    </li>
                </ul>
            </div>


        <div class="profile-date"></div>
        <h1 id="profile-name">Ol√° {{user["name"]}}!</h1>

        <div id="profile-chart">
            <div id="chart-container"></div>
            <div id="container-mask"></div>
        </div>

        <ul id="profile">
            {% for score in indices %}
            <li class="profile-grade" id="grade-a">
                <div class="grade">
                    <div class="competence-grade">{{ scores[indices[score]["name"].lower()]["value"]/scores[indices[score]["name"].lower()]["total"] if indices[score]["name"].lower() in scores and "value" in scores[indices[score]["name"].lower()] else '<span style="color:#888">&lt;Vazio&gt;</span>'|safe}}</div>
                    <div class="change {{("positive" if indices[score]["diff"] > 0 else "negative") if "diff" in indices[score] else "neutral"}})"></div>
                </div>
                <h3 class="competence-title">
                    {{score.upper()}}.
                    {{indices[score]["name"].capitalize()}}</h3>
                <p class="competence-description">{{indices[score]["desc"].capitalize()}}</p>
            </li>
            {% endfor %}
        </ul>
    </div>
    <script>
        var csv = `{{csv|safe}}`;
    </script>

    <script src="/static/radar.js" type="text/javascript">
    </script>

    </body>
</html>
